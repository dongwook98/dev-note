# unknown 타입 정리

## unknown의 개념

- 타입스크립트에서 제공하는 **any보다 안전한 최상위 타입.**

- 어떤 값이든 저장 가능하지만,
  **다른 타입으로 사용할 때는 타입 검사(type narrowing)가 반드시 필요하다.**

```ts
let userInput: unknown;

userInput = 5;
userInput = 'Hello';
userInput = { x: 1 };
```

어떤 값도 문제 없이 할당할 수 있다.

## unknown이 any와 다른 점

### any

- 모든 값을 저장할 수 있음

- 모든 타입으로 할당 가능

- 타입 체크를 완전히 포기 → 런타임 위험 높음

### unknown

- 모든 값을 저장할 수 있음

- 타입이 필요한 곳에 바로 할당 불가

- 반드시 조건문 등으로 타입을 좁혀야 함

```ts
let userInput: unknown;
let userName: string;

userInput = 'Max';

// 오류
userName = userInput;
// Type 'unknown' is not assignable to type 'string'
```

- unknown은 string일 수도, 아닐 수도 있기 때문에 TypeScript가 막는다.

## unknown을 사용할 때 필요한 타입 확인

```ts
let userInput: unknown;
let userName: string;

userInput = 'Max';

if (typeof userInput === 'string') {
  userName = userInput; // OK
}
```

- 조건문 안에서 타입이 string임이 확인되므로 안전하게 할당 가능.

## unknown을 사용하는 이유

- any보다 더 안전한 동작을 보장한다.

- 값의 타입을 아직 모르지만,
  이후 사용 시 타입을 좁힐 계획이 있는 경우 유용하다.

- 예:

  - 사용자 입력

  - 외부 API로부터 들어오는 검증되지 않은 데이터

  - 초기에 타입이 미정인 상태에서 점진적 타입 확정이 필요한 경우

## unknown을 쓰면 안 되는 경우

- 값이 어떤 타입인지 이미 알고 있는 경우

  - 예: 항상 string 또는 항상 number로 들어오는 값

- 사용하기 전에 매번 타입 체크하는 것이 번거로우면 적합하지 않다

이 경우:

- string, number, union 타입 등 더 구체적인 타입을 사용하면 된다.

## 핵심 한줄 정리

- **unknown은 어떤 값이든 저장할 수 있지만, 다른 타입에 활용하기 전 반드시 타입 체크가 필요한 안전한 any이다.**
