# TypeScript 컴파일러 옵션: lib

## 1. lib 옵션의 목적

- TypeScript에서 사용할 **전역 객체 및 기능**을 지정

- 브라우저 환경에서 DOM API나 ES6 이상 기능을 안전하게 사용 가능

- Node.js 환경에서는 브라우저 API가 없기 때문에 lib 옵션으로 환경을 지정해야 함

## 2. 예제: DOM 버튼 클릭

```html
<!-- index.html -->
<button>Click Me</button>
```

```ts
// app.ts
const button = document.querySelector('button')!;
button.addEventListener('click', () => {
  console.log('Clicked!');
});
```

- `document.querySelector`는 버튼 존재 여부를 확실히 알지 못하므로, 느낌표 `!`를 사용해 **Non-null assertion** 처리

- addEventListener 사용 시에도 TypeScript가 `document`와 `addEventListener`를 알 수 있는 이유 → lib 옵션

## 3. lib 옵션 기본 동작

- lib 옵션을 설정하지 않으면 **타입스크립트 기본값**이 적용

  - 기본값은 target 옵션에 따라 달라짐 (예: ES6 기준)

  - ES6에서 전역 객체(MAP, SET 등) 및 DOM API를 사용할 수 있음

- lib 옵션을 주석 해제하고 배열로 설정하면, TypeScript는 지정한 라이브러리만 사용 가능

  - 예: `["dom", "es6"]`

- 기본값 없이 설정하면, DOM API나 console 객체를 알지 못해 컴파일 오류 발생

## 4. lib 옵션 사용 예시

```json
{
  "compilerOptions": {
    "target": "es6",
    "lib": ["dom", "es6"]
  }
}
```

- DOM API와 ES6 전역 객체를 TypeScript가 인식

- 브라우저 환경용 코드를 안전하게 작성 가능

- lib를 명시하지 않으면 TypeScript가 기본 추측에 의존 → 필요한 타입 정의가 누락될 수 있음

## 5. 정리

- **lib 옵션**: TypeScript가 인식할 환경별 전역 객체를 정의

- 브라우저 기반 코드 → `dom`, `es6` 등 포함

- Node.js 환경 → `es6`, `esnext`, `dom` 제외

- lib를 명시하지 않으면 target 기준 기본값 적용

- DOM API, console 등 객체 사용 가능 여부는 lib 옵션에 따라 결정
